# Application Configuration
APP_ENV=development
APP_NAME=subtitle-cleaner
APP_VERSION=0.1.0
LOG_LEVEL=info
API_PREFIX=/v1
CORS_ORIGINS=*

# API Port Configuration
API_PORT=8080

# Database Configuration
# For local development: postgresql://subtitle_user:subtitle_pass@localhost:5432/subtitle_db
# For Docker: postgresql://subtitle_user:subtitle_pass@db:5432/subtitle_db
DATABASE_URL=postgresql://subtitle_user:subtitle_pass@localhost:5432/subtitle_db

# Redis Configuration
# For local development: redis://localhost:6379/0
# For Docker: redis://redis:6379/0
REDIS_URL=redis://localhost:6379/0

# Docker-specific DB/Redis settings (for docker-compose services)
REDIS_PORT=6379
REDIS_MAX_MEMORY=256mb
REDIS_EVICTION_POLICY=allkeys-lru
REDIS_PERSISTENCE=no

# API Authentication
API_KEY_HEADER=X-API-Key
# Comma-separated list of valid API keys
API_KEYS=sk-dev-key-1234567890,sk-dev-key-0987654321

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# File Processing Limits
MAX_FILE_SIZE_MB=10
MAX_SEGMENTS=10000
DEFAULT_LANGUAGE=en

# Pipeline Configuration
MERGE_THRESHOLD_MS=100
MIN_SEGMENT_DURATION_MS=1500
MAX_SEGMENT_DURATION_MS=6000
TARGET_CPS=17
MAX_LINE_LENGTH=42
MAX_LINES_PER_SEGMENT=2

# Supported Languages (comma-separated)
SUPPORTED_LANGUAGES=en,es,fr,de,it,pt,nl

# Enhanced Features (Layers 4-6)
# OpenAI API Key (required for Layer 5 LLM selection)
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=150
OPENAI_TEMPERATURE=0.0

# Enable/Disable Enhanced Layers
ENABLE_RETRIEVAL=true               # Layer 4: Wikipedia/Wikidata retrieval
ENABLE_LLM_SELECTION=false          # Layer 5: LLM disambiguation (requires OPENAI_API_KEY)
ENABLE_TENANT_MEMORY=true           # Layer 6: Tenant memory and learning

# Retrieval Configuration
RETRIEVAL_MAX_SPANS=5               # Max suspicious spans per document
RETRIEVAL_MIN_SOURCES=2             # Min sources for consensus
LLM_CONFIDENCE_THRESHOLD=0.7        # Min confidence for LLM selections

# Worker Configuration (for production)
WORKERS=2
WORKER_CLASS=uvloop

# Debug Mode (set to false in production)
DEBUG=false
RELOAD=false